window.__require=function t(e,n,i){function o(c,h){if(!n[c]){if(!e[c]){var d=c.split("/");if(d=d[d.length-1],!e[d]){var l="function"==typeof __require&&__require;if(!h&&l)return l(d,!0);if(s)return s(d,!0);throw new Error("Cannot find module '"+c+"'")}c=d}var r=n[c]={exports:{}};e[c][0].call(r.exports,function(t){return o(e[c][1][t]||t)},r,r.exports,t,e,n,i)}return n[c].exports}for(var s="function"==typeof __require&&__require,c=0;c<i.length;c++)o(i[c]);return o}({defense:[function(t,e,n){"use strict";cc._RF.push(e,"d715eGXXolFZ5NlGsobLJh6","defense"),cc.Class({extends:cc.Component,onCollisionEnter:function(t,e){3==t.tag&&(this.node.parent.getComponent("game").playExplosionSoundEffect2(),this.node.destroy())},onLoad:function(){cc.director.getCollisionManager().enabled=!0}}),cc._RF.pop()},{}],enemyBullet:[function(t,e,n){"use strict";cc._RF.push(e,"25f28j3u5lEXZAtV9tRGptH","enemyBullet"),cc.Class({extends:cc.Component,onCollisionEnter:function(t,e){2!==t.tag&&1!==t.tag&&3!==t.tag&&5!==t.tag||(this.node.parent.getComponent("game").animation(this.node),2!==t.tag&&this.node.parent.getComponent("game").playExplosionSoundEffect1(),this.node.destroy())},onLoad:function(){cc.director.getCollisionManager().enabled=!0},selfDestroy:function(){return this.node.destroy()}}),cc._RF.pop()},{}],firstEnemy:[function(t,e,n){"use strict";cc._RF.push(e,"6488dhVqDBP2Yq6s5Hrzzr3","firstEnemy"),cc.Class({extends:cc.Component,onCollisionEnter:function(t,e){3===t.tag&&(this.node.parent.getComponent("game").addScore1(),this.node.destroy())},onLoad:function(){cc.director.getCollisionManager().enabled=!0,this.enemyMovements(),this.posY=150},enemyMovements:function(){cc.tween(this.node).to(15,{position:cc.v2(this.node.x+95,this.node.y)}).to(5,{position:cc.v2(this.node.x+95,this.node.y-50)}).to(15,{position:cc.v2(this.node.x-5,this.node.y-50)}).to(5,{position:cc.v2(this.node.x-5,this.node.y-100)}).to(15,{position:cc.v2(this.node.x+95,this.node.y-100)}).to(5,{position:cc.v2(this.node.x+95,this.node.y-150)}).to(15,{position:cc.v2(this.node.x-5,this.node.y-150)}).to(5,{position:cc.v2(this.node.x-5,this.node.y-200)}).to(15,{position:cc.v2(this.node.x+95,this.node.y-200)}).to(5,{position:cc.v2(this.node.x+95,this.node.y-250)}).to(15,{position:cc.v2(this.node.x-5,this.node.y-250)}).to(5,{position:cc.v2(this.node.x-5,this.node.y-300)}).to(15,{position:cc.v2(this.node.x+95,this.node.y-300)}).to(5,{position:cc.v2(this.node.x+95,this.node.y-250)}).to(15,{position:cc.v2(this.node.x-5,this.node.y-250)}).to(5,{position:cc.v2(this.node.x-5,this.node.y-400)}).start()},update:function(t){this.node.y<=-80&&(this.node.destroy(),this.node.parent.getComponent("game").showPopUp())}}),cc._RF.pop()},{}],game:[function(t,e,n){"use strict";cc._RF.push(e,"4b2cdecfBVLLpy9swdwTgJR","game"),cc.Class({extends:cc.Component,properties:{playerBulletPrefab:{default:null,type:cc.Prefab},defense:{default:null,type:cc.Prefab},player:{default:null,type:cc.Node},background:{default:null,type:cc.Node},firstEnemyPrefab:{default:null,type:cc.Prefab},secondEnemyPrefab:{default:null,type:cc.Prefab},thirdEnemyPrefab:{default:null,type:cc.Prefab},enemyBulletPrefab:{default:null,type:cc.Prefab},livesNode:{default:null,type:cc.Node},livesDisplay:{default:null,type:cc.Label},scoreNode:{default:null,type:cc.Node},scoreDisplay:{default:null,type:cc.Label},gameOver:{default:null,type:cc.Node},retry:{default:null,type:cc.Node},explosionNode:{default:null,type:cc.Node},explosionAnimation:{default:null,type:cc.Animation},firingSoundEffect:{default:null,type:cc.AudioClip},explosionSoundEffect1:{default:null,type:cc.AudioClip},explosionSoundEffect2:{default:null,type:cc.AudioClip},bulletDuration:0},onLoad:function(){this.score=0,this.lives=3,this.playerBulletIndex=0,this.firstEnemyBulletIndex=0,this.secondEnemyBulletIndex=0,this.thirdEnemyBulletIndex=0,this.playerBullet=[],this.firstEnemyBullet=[],this.secondEnemyBullet=[],this.thirdEnemyBullet=[],this.isFirstEnemyCreated=!1,this.isSecondEnemyCreated=!1,this.isThirdEnemyCreated=!1,this.screenX=cc.view.getVisibleSize().width/2,this.screenY=cc.view.getVisibleSize().height/2,this.livesNode.setPosition(60-this.screenX,this.screenY-30),this.scoreNode.setPosition(this.screenX-60,this.screenY-30),this.createDefense(),this.createFirstEnemy(this.firstEnemyPrefab,130),this.createSecondEnemy(this.secondEnemyPrefab,180),this.createThirdEnemy(this.thirdEnemyPrefab,240),this.background.on("touchstart",this.createPlayerBullets,this),this.retry.on("touchstart",this.retryClicked,this),this.schedule(this.firstEnemyRandomFiring,3),this.schedule(this.secondEnemyRandomFiring,4),this.schedule(this.thirdEnemyRandomFiring,5)},createDefense:function(){this.newDefensePositionX=-130;var t=1;do{var e;if(t%3!=0)(e=cc.instantiate(this.defense)).setPosition(this.newDefensePositionX,-140),e.parent=this.node;else(e=cc.instantiate(this.defense)).setPosition(this.newDefensePositionX-45,-110),e.parent=this.node,this.newDefensePositionX+=30;this.newDefensePositionX+=30,t++}while(this.newDefensePositionX<=180)},createFirstEnemy:function(t,e){this.firstEnemyPool=[],this.newEnemyPositionX=-130;for(var n=0;n<5;n++)this.firstEnemyPool[n]=cc.instantiate(t),this.firstEnemyPool[n].setPosition(this.newEnemyPositionX,e),this.firstEnemyPool[n].parent=this.node,this.newEnemyPositionX+=44,this.isFirstEnemyCreated=!0},createSecondEnemy:function(t,e){this.secondEnemyPool=[],this.newEnemyPositionX=-130;for(var n=0;n<5;n++)this.secondEnemyPool[n]=cc.instantiate(t),this.secondEnemyPool[n].setPosition(this.newEnemyPositionX,e),this.secondEnemyPool[n].parent=this.node,this.newEnemyPositionX+=44,this.isSecondEnemyCreated=!0},createThirdEnemy:function(t,e){this.thirdEnemyPool=[],this.newEnemyPositionX=-130;for(var n=0;n<5;n++)this.thirdEnemyPool[n]=cc.instantiate(t),this.thirdEnemyPool[n].setPosition(this.newEnemyPositionX,e),this.thirdEnemyPool[n].parent=this.node,this.newEnemyPositionX+=44,this.isThirdEnemyCreated=!0},createFirstEnemyBullets:function(t){this.isFirstEnemyCreated&&(this.enemyPosX=this.firstEnemyPool[t].x,this.enemyPosY=this.firstEnemyPool[t].y,this.firstEnemyBullet[this.firstEnemyBulletIndex]=cc.instantiate(this.enemyBulletPrefab),this.firstEnemyBullet[this.firstEnemyBulletIndex].setPosition(this.enemyPosX,this.enemyPosY-30),this.firstEnemyBullet[this.firstEnemyBulletIndex].parent=this.node,cc.tween(this.firstEnemyBullet[this.firstEnemyBulletIndex]).to(10,{position:cc.v2(this.enemyPosX,-350)}).start(),cc.audioEngine.playEffect(this.firingSoundEffect,!1),this.firstEnemyBulletIndex++)},createSecondEnemyBullets:function(t){this.isSecondEnemyCreated&&(this.enemyPosX=this.secondEnemyPool[t].x,this.enemyPosY=this.secondEnemyPool[t].y,this.secondEnemyBullet[this.secondEnemyBulletIndex]=cc.instantiate(this.enemyBulletPrefab),this.secondEnemyBullet[this.secondEnemyBulletIndex].setPosition(this.enemyPosX,this.enemyPosY-30),this.secondEnemyBullet[this.secondEnemyBulletIndex].parent=this.node,cc.tween(this.secondEnemyBullet[this.secondEnemyBulletIndex]).to(10,{position:cc.v2(this.enemyPosX,-350)}).start(),cc.audioEngine.playEffect(this.firingSoundEffect,!1),this.secondEnemyBulletIndex++)},createThirdEnemyBullets:function(t){this.isThirdEnemyCreated&&(this.enemyPosX=this.thirdEnemyPool[t].x,this.enemyPosY=this.thirdEnemyPool[t].y,this.thirdEnemyBullet[this.thirdEnemyBulletIndex]=cc.instantiate(this.enemyBulletPrefab),this.thirdEnemyBullet[this.thirdEnemyBulletIndex].setPosition(this.enemyPosX,this.enemyPosY-30),this.thirdEnemyBullet[this.thirdEnemyBulletIndex].parent=this.node,cc.tween(this.thirdEnemyBullet[this.thirdEnemyBulletIndex]).to(10,{position:cc.v2(this.enemyPosX,-350)}).start(),cc.audioEngine.playEffect(this.firingSoundEffect,!1),this.thirdEnemyBulletIndex++)},firstEnemyRandomFiring:function(){var t=Math.floor(5*Math.random());""!==this.firstEnemyPool[t]._name&&this.createFirstEnemyBullets(t)},secondEnemyRandomFiring:function(){var t=Math.floor(5*Math.random());""!==this.secondEnemyPool[t]._name&&this.createSecondEnemyBullets(t)},thirdEnemyRandomFiring:function(){var t=Math.floor(5*Math.random());""!==this.thirdEnemyPool[t]._name&&this.createThirdEnemyBullets(t)},createPlayerBullets:function(){this.playerBullet[this.playerBulletIndex]=cc.instantiate(this.playerBulletPrefab),this.playerBullet[this.playerBulletIndex].setPosition(this.player.x,-185),this.playerBullet[this.playerBulletIndex].parent=this.node,cc.tween(this.playerBullet[this.playerBulletIndex]).to(this.bulletDuration,{position:cc.v2(this.player.x,this.screenY)}).start(),cc.audioEngine.playEffect(this.firingSoundEffect,!1),this.playerBulletIndex++},addScore1:function(){this.score+=1,this.scoreDisplay.string="SCORE : "+this.score},addScore2:function(){this.score+=2,this.scoreDisplay.string="SCORE : "+this.score},addScore3:function(){this.score+=3,this.scoreDisplay.string="SCORE : "+this.score},playerLives:function(){this.lives-=1,this.livesDisplay.string="LIVES : "+this.lives},destroyEnemy:function(t){for(var e=0;e<5;e++)""!==t[e]._name&&t[e].destroy()},destroyBullets:function(t){for(var e=0;e<t.length;e++)""!==t[e]._name&&t[e].destroy()},showPopUp:function(){this.destroyEnemy(this.firstEnemyPool),this.destroyEnemy(this.secondEnemyPool),this.destroyEnemy(this.thirdEnemyPool),this.destroyBullets(this.firstEnemyBullet),this.destroyBullets(this.secondEnemyBullet),this.destroyBullets(this.thirdEnemyBullet),this.destroyBullets(this.playerBullet),this.retry.scale=.5,this.gameOver.scale=.1,cc.tween(this.retry).to(.3,{scale:1.3,opacity:255}).start(),cc.tween(this.gameOver).to(.3,{scale:.5,opacity:255}).start()},retryClicked:function(){cc.tween(this.retry).to(.3,{scale:.1,opacity:0}).start(),cc.tween(this.gameOver).to(.3,{scale:.1,opacity:0}).call(function(){return cc.director.loadScene("Game")}).start()},animation:function(t){return this.explosionNode.setPosition(t.x,t.y),this.explosionAnimation.play("explosion")},playExplosionSoundEffect1:function(){cc.audioEngine.playEffect(this.explosionSoundEffect1,!1)},playExplosionSoundEffect2:function(){cc.audioEngine.playEffect(this.explosionSoundEffect2,!1)},update:function(t){30===this.score&&cc.director.loadScene("Game")}}),cc._RF.pop()},{}],playerBullet:[function(t,e,n){"use strict";cc._RF.push(e,"8591bMrFi1Hp7oqF97LxKu0","playerBullet"),cc.Class({extends:cc.Component,onCollisionEnter:function(t,e){1!=t.tag&&2!=t.tag&&3!=t.tag&&4!=t.tag&&5!=t.tag||(this.node.parent.getComponent("game").animation(this.node),2!==t.tag&&this.node.parent.getComponent("game").playExplosionSoundEffect1(),this.node.destroy())},onLoad:function(){cc.director.getCollisionManager().enabled=!0}}),cc._RF.pop()},{}],player:[function(t,e,n){"use strict";cc._RF.push(e,"108c7V5kGtEfJlniAwX1Hx5","player"),cc.Class({extends:cc.Component,properties:{moveDuration:0,moveDistance:0,rightBtn:cc.Button,leftBtn:cc.Button},onCollisionEnter:function(t,e){this.health-=1,this.node.parent.getComponent("game").playerLives(),3===t.tag&&0===this.health&&(this.node.destroy(),this.node.parent.getComponent("game").showPopUp())},onLoad:function(){cc.director.getCollisionManager().enabled=!0,this.rightBtn.node.on("touchstart",this.onClickRight,this),this.leftBtn.node.on("touchstart",this.onClickLeft,this),this.health=3},onClickRight:function(){this.node.x+this.moveDistance<130?cc.tween(this.node).to(this.moveDuration,{position:cc.v2(this.node.x+this.moveDistance,this.node.y)}).start():cc.tween(this.node).to(this.moveDuration,{position:cc.v2(130,this.node.y)}).start()},onClickLeft:function(){this.node.x-this.moveDistance>-130?cc.tween(this.node).to(this.moveDuration,{position:cc.v2(this.node.x-this.moveDistance,this.node.y)}).start():cc.tween(this.node).to(this.moveDuration,{position:cc.v2(-130,this.node.y)}).start()}}),cc._RF.pop()},{}],secondEnemy:[function(t,e,n){"use strict";cc._RF.push(e,"2a6dcAIxZtLh5CT9LT62p9l","secondEnemy"),cc.Class({extends:cc.Component,onCollisionEnter:function(t,e){this.health-=1,3===t.tag&&0===this.health&&(this.node.parent.getComponent("game").addScore2(),this.node.destroy())},onLoad:function(){cc.director.getCollisionManager().enabled=!0,this.enemyMovements(),this.health=2},enemyMovements:function(){cc.tween(this.node).to(15,{position:cc.v2(this.node.x+95,this.node.y)}).to(5,{position:cc.v2(this.node.x+95,this.node.y-50)}).to(15,{position:cc.v2(this.node.x-5,this.node.y-50)}).to(5,{position:cc.v2(this.node.x-5,this.node.y-100)}).to(15,{position:cc.v2(this.node.x+95,this.node.y-100)}).to(5,{position:cc.v2(this.node.x+95,this.node.y-150)}).to(15,{position:cc.v2(this.node.x-5,this.node.y-150)}).to(5,{position:cc.v2(this.node.x-5,this.node.y-200)}).to(15,{position:cc.v2(this.node.x+95,this.node.y-200)}).to(5,{position:cc.v2(this.node.x+95,this.node.y-250)}).to(15,{position:cc.v2(this.node.x-5,this.node.y-250)}).to(5,{position:cc.v2(this.node.x-5,this.node.y-300)}).to(15,{position:cc.v2(this.node.x+95,this.node.y-300)}).to(5,{position:cc.v2(this.node.x+95,this.node.y-250)}).to(15,{position:cc.v2(this.node.x-5,this.node.y-250)}).to(5,{position:cc.v2(this.node.x-5,this.node.y-400)}).start()},update:function(t){this.node.y<=-80&&(this.node.destroy(),this.node.parent.getComponent("game").showPopUp())}}),cc._RF.pop()},{}],thirdEnemy:[function(t,e,n){"use strict";cc._RF.push(e,"b95a1Zu1UxNwqhidjl+Wlri","thirdEnemy"),cc.Class({extends:cc.Component,onCollisionEnter:function(t,e){this.health-=1,3===t.tag&&0===this.health&&(this.node.parent.getComponent("game").addScore3(),this.node.destroy())},onLoad:function(){cc.director.getCollisionManager().enabled=!0,this.enemyMovements(),this.health=3},enemyMovements:function(){cc.tween(this.node).to(15,{position:cc.v2(this.node.x+95,this.node.y)}).to(5,{position:cc.v2(this.node.x+95,this.node.y-50)}).to(15,{position:cc.v2(this.node.x-5,this.node.y-50)}).to(5,{position:cc.v2(this.node.x-5,this.node.y-100)}).to(15,{position:cc.v2(this.node.x+95,this.node.y-100)}).to(5,{position:cc.v2(this.node.x+95,this.node.y-150)}).to(15,{position:cc.v2(this.node.x-5,this.node.y-150)}).to(5,{position:cc.v2(this.node.x-5,this.node.y-200)}).to(15,{position:cc.v2(this.node.x+95,this.node.y-200)}).to(5,{position:cc.v2(this.node.x+95,this.node.y-250)}).to(15,{position:cc.v2(this.node.x-5,this.node.y-250)}).to(5,{position:cc.v2(this.node.x-5,this.node.y-300)}).to(15,{position:cc.v2(this.node.x+95,this.node.y-300)}).to(5,{position:cc.v2(this.node.x+95,this.node.y-250)}).to(15,{position:cc.v2(this.node.x-5,this.node.y-250)}).to(5,{position:cc.v2(this.node.x-5,this.node.y-400)}).start()},selfDestroy:function(){this.node.destroy()},update:function(t){this.node.y<=-80&&(this.node.destroy(),this.node.parent.getComponent("game").showPopUp())}}),cc._RF.pop()},{}]},{},["defense","enemyBullet","firstEnemy","game","player","playerBullet","secondEnemy","thirdEnemy"]);
//# sourceMappingURL=index.js.map
